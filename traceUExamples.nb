(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 10.3' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     69911,       3225]
NotebookOptionsPosition[     59696,       2859]
NotebookOutlinePosition[     60567,       2886]
CellTagsIndexPosition[     60524,       2883]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell["Needs[\"traceUtils`\"]", "Input",
 Editable->False,
 InitializationCell->True,
 AspectRatioFixed->True],

Cell[CellGroupData[{

Cell[TextData[{
 StyleBox["tracePrintIndexed",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier"],
 StyleBox["",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True]
}], "Section",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[TextData[{
 StyleBox["The function",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" tracePrintIndexed ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["is much like the function",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" TracePrint ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["with some additional features: ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True]
}], "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell["\<\
o Step numbers printed before each step improve readability and can be used \
to \"zoom in\" on a portion of a shallow trace. \
\>", "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell["\<\
o A delimiter makes clear which steps begin evaluation sub-chains and which \
steps result from rewriting other steps. \
\>", "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell["o Trivial evaluation chains can be ignored. ", "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[TextData[{
 StyleBox["o Options that resemble",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" TraceOn ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["and",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" TraceOff ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["but that work inside of each other are available. ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True]
}], "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[CellGroupData[{

Cell["basics", "Subsection",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[TextData[{
 StyleBox["In its simplest usage, typing",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" tracePrintIndexed[",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["expr",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox["] ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["produces output similar to",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" TracePrint[",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["expr",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox["], ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["but with a ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox["step number  ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontSlant->"Italic"],
 StyleBox["assigned to each step in the evaluation being traced:",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True]
}], "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[CellGroupData[{

Cell["\<\
{a1, a2, a3} = {b1, b2, b3};

TracePrint[ a1[a2[a3]] ];\
\>", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
 a1[a2[a3]]
  a1
  b1
  a2[a3]
   a2
   b2
   a3
   b3
  b2[b3]
 b1[b2[b3]]\
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]],

Cell[CellGroupData[{

Cell["tracePrintIndexed[ a1[a2[a3]] ]", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
  1: a1[a2[a3]]
  2:  a1
  3$  b1
  4:  a2[a3]
  5:   a2
  6$   b2
  7:   a3
  8$   b3
  9$  b2[b3]
 10$ b1[b2[b3]]\
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[OutputFormData["\<\
b1[b2[b3]]\
\>", "\<\
b1[b2[b3]]\
\>"], "Output",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]],

Cell[TextData[{
 StyleBox["Like",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" TracePrint, tracePrintIndexed ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["indents each step that it prints according to the ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox["trace level  ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontSlant->"Italic"],
 StyleBox["of the step. When a step is the first member of an evaluation \
chain, the step number is followed by a \"",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[":",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier"],
 StyleBox["\". Otherwise, the step number is followed by a \"",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox["$",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier"],
 StyleBox["\", which indicates that the step is a replacement for the \
previous step on the same level. In the last example, steps 2 and 4 are parts \
of step 1, and steps 5 and 7 are parts of step 4. Steps 3, 6, 8, 9, and 10, \
on the other hand, are the results of rewriting steps 2, 5, 7, 4, and 1, \
respectively. ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True]
}], "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]],

Cell[CellGroupData[{

Cell[TextData[{
 StyleBox["The option",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" skipTrivialChains",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier"]
}], "Subsection",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[TextData[{
 StyleBox["The evaluation of",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" a1[a2[a3]] ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["traced above was unusual in that every part of the expression was \
eventually replaced.  In most evaluations, a substantial fraction of the \
steps belong to trivial evaluation chains in which ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox["Mathematica",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontSlant->"Italic"],
 StyleBox["  is examining parts of an expression which end up evaluating to \
themselves. By default, the function",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" tracePrintIndexed ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["omits printing any steps belonging to such trivial chains. You can \
tell from the step numbers how many intermediate steps have been skipped: ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True]
}], "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[CellGroupData[{

Cell["tracePrintIndexed[ 2 (3 + 4 + 5) ]", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
  1: 2 (3 + 4 + 5)
  4:  3 + 4 + 5
  9$  12
 10$ 2 12
 11$ 24\
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[OutputFormData["\<\
24\
\>", "\<\
24\
\>"], "Output",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]],

Cell[TextData[{
 StyleBox["The printing of steps in trivial evaluation chains is controlled \
by an option",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" skipTrivialChains ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["whose default value is ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" True.",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox[" To see all the steps in a trace, set ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" skipTrivialChains ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["to be",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" False: ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"]
}], "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[CellGroupData[{

Cell["\<\
tracePrintIndexed[
  2 (3 + 4 + 5), 
  skipTrivialChains -> False ]\
\>", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
  1: 2 (3 + 4 + 5)
  2:  Times
  3:  2
  4:  3 + 4 + 5
  5:   Plus
  6:   3
  7:   4
  8:   5
  9$  12
 10$ 2 12
 11$ 24\
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[OutputFormData["\<\
24\
\>", "\<\
24\
\>"], "Output",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]],

Cell[TextData[{
 StyleBox["One advantage of showing all of the steps in a trace is that it \
clarifies the systematic evaluation algorithm that the kernel is using. See \
the sections on the evaluation of expressions in the ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox["Mathematica",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontSlant->"Italic"],
 StyleBox["  book for more information. For the experienced user, however, we \
are guessing that the extra steps are a distraction. Here is one more \
example: ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True]
}], "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[CellGroupData[{

Cell["tracePrintIndexed[Transpose[{{1, 3}, {5, 7}}] ]", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
  1: Transpose[{{1, 3}, {5, 7}}]
 13$ {{1, 5}, {3, 7}}\
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[OutputFormData["\<\
{{1, 5}, {3, 7}}\
\>", "\<\
{{1, 5}, {3, 7}}\
\>"], "Output",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]],

Cell[CellGroupData[{

Cell["\<\
tracePrintIndexed[
  Transpose[{{1, 3}, {5, 7}}],
  skipTrivialChains -> False ]\
\>", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
  1: Transpose[{{1, 3}, {5, 7}}]
  2:  Transpose
  3:  {{1, 3}, {5, 7}}
  4:   List
  5:   {1, 3}
  6:    List
  7:    1
  8:    3
  9:   {5, 7}
 10:    List
 11:    5
 12:    7
 13$ {{1, 5}, {3, 7}}
 14:  List
 15:  {1, 5}
 16:   List
 17:   1
 18:   5
 19:  {3, 7}
 20:   List
 21:   3
 22:   7\
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[OutputFormData["\<\
{{1, 5}, {3, 7}}\
\>", "\<\
{{1, 5}, {3, 7}}\
\>"], "Output",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]],

Cell[TextData[{
 StyleBox["You can of course change the default values for",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" skipTrivialChains ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["and other options of",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" tracePrintIndexed  ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["to suite yourself. ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True]
}], "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]],

Cell[CellGroupData[{

Cell[TextData[{
 StyleBox["The option",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" printCondition",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier"]
}], "Subsection",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[TextData[{
 StyleBox["The function",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" tracePrintIndexed ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["has an option",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" printCondition ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["whose default value is",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" True",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox[".   ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontWeight->"Bold"],
 StyleBox["If  \"",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox["printCondition -> ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["expr",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontSlant->"Italic"],
 StyleBox["\"",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["is supplied as an optional argument to",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" tracePrintIndexed, ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["the value of",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" expr ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontSlant->"Italic"],
 StyleBox["will be recomputed at each step, and the step will be printed only \
if the result is",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" True",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox[". ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontWeight->"Bold"],
 StyleBox[" ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["The  expression",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" expr ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontSlant->"Italic"],
 StyleBox["may involve one or more of three special symbols:",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" $step, $stepNumber, ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["and",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" $traceLevel, ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["which represent the step being considered, its step number, and \
its trace level, respectively.  ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox["Note: ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontSlant->"Italic"],
 StyleBox["as in all tracing functions, each step comes wrapped in ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" HoldForm ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["to prevent evaluation.",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True]
}], "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[CellGroupData[{

Cell[TextData[{
 StyleBox["Example using ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox["$step",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier"]
}], "Subsubsection",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[TextData[{
 StyleBox["One use of",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontWeight->"Bold"],
 StyleBox["$step ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["in",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" printCondition ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["is to pick out only those steps which match a pattern. Here is an \
example with a recursive factorial function. ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True]
}], "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[CellGroupData[{

Cell["\<\
fac[n_] := n fac[-1 + n];
fac[1] = 1;

tracePrintIndexed[
  fac[5],
  printCondition -> 
    MatchQ[
      $step,
      HoldForm[fac[_]]] ]\
\>", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
  1: fac[5]
  7:  fac[-1 + 5]
 14$  fac[4]
 18:   fac[-1 + 4]
 25$   fac[3]
 29:    fac[-1 + 3]
 36$    fac[2]
 40:     fac[-1 + 2]
 47$     fac[1]\
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[OutputFormData["\<\
120\
\>", "\<\
120\
\>"], "Output",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell[TextData[{
 StyleBox["Example using ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox["$traceLevel",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier"]
}], "Subsubsection",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[TextData[{
 StyleBox["One use of",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontWeight->"Bold"],
 StyleBox["$traceLevel ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["in",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" printCondition ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["is to print only the \"shallow\" steps in a trace. Here is an \
example with a recursive function for computing Fibonacci numbers.",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True]
}], "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[CellGroupData[{

Cell["\<\
fib[n_] := fib[-2 + n] + fib[-1 + n];
fib[0] = fib[1] = 1;

tracePrintIndexed[
  fib[5], 
  printCondition ->
    $traceLevel < 4]\
\>", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
  1: fib[5]
  4$ fib[-2 + 5] + fib[-1 + 5]
  6:  fib[-2 + 5]
 13$  fib[3]
 14$  fib[-2 + 3] + fib[-1 + 3]
 55$  1 + 2
 56$  3
 57:  fib[-1 + 5]
 64$  fib[4]
 65$  fib[-2 + 4] + fib[-1 + 4]
148$  2 + 3
149$  5
150$ 3 + 5
151$ 8\
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[OutputFormData["\<\
8\
\>", "\<\
8\
\>"], "Output",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell[TextData[{
 StyleBox["Example using ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox["$stepNumber",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier"]
}], "Subsubsection",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[TextData[{
 StyleBox["One use of",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontWeight->"Bold"],
 StyleBox["$stepNumber ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["in",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" printCondition ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["is to \"zoom in\" on a portion of a previous shallow trace. Here \
we examine the reduction of",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" fib[-2 + 3] + fib[-1 + 3] ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier"],
 StyleBox["to",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" 3 ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier"],
 StyleBox["in the previous example.",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True]
}], "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[CellGroupData[{

Cell["\<\
tracePrintIndexed[
  fib[5], 
  printCondition ->
    14 <= $stepNumber <= 56]\
\>", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
 14$  fib[-2 + 3] + fib[-1 + 3]
 16:   fib[-2 + 3]
 18:    -2 + 3
 22$    1
 23$   fib[1]
 24$   1
 25:   fib[-1 + 3]
 27:    -1 + 3
 31$    2
 32$   fib[2]
 33$   fib[-2 + 2] + fib[-1 + 2]
 35:    fib[-2 + 2]
 37:     -2 + 2
 41$     0
 42$    fib[0]
 43$    1
 44:    fib[-1 + 2]
 46:     -1 + 2
 50$     1
 51$    fib[1]
 52$    1
 53$   1 + 1
 54$   2
 55$  1 + 2
 56$  3\
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[OutputFormData["\<\
8\
\>", "\<\
8\
\>"], "Output",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell[TextData[{
 StyleBox["Contrast with ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox["TracePrint/TraceScan ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier"],
 StyleBox["options",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True]
}], "Subsubsection",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[TextData[{
 StyleBox["tracePrintIndexed ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["works by calling",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" TraceScan. ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["Optional arguments understood by",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" TraceScan ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["can therefore be given to",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" tracePrintIndexed. ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["(",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox["Exception: ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontSlant->"Italic"],
 StyleBox["the option",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" TraceOn ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["is disabled for technical reasons.) Passing optional arguments to",
  
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" TraceScan ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["in this way, however, will affect the assignment of step numbers \
because",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" tracePrintIndexed ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["can only assign numbers to steps that are acknowledged by",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" TraceScan.",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"]
}], "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[CellGroupData[{

Cell["\<\
tracePrintIndexed[
  fac[5], 
  fac[_] ]\
\>", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
  1: fac[5]
  2:  fac[-1 + 5]
  3$  fac[4]
  4:   fac[-1 + 4]
  5$   fac[3]
  6:    fac[-1 + 3]
  7$    fac[2]
  8:     fac[-1 + 2]
  9$     fac[1]\
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[OutputFormData["\<\
120\
\>", "\<\
120\
\>"], "Output",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]],

Cell[CellGroupData[{

Cell["\<\
(* Seen previously *)
tracePrintIndexed[
  fac[5],
  printCondition -> 
    MatchQ[
      $step,
      HoldForm[fac[_]]] ]\
\>", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
  1: fac[5]
  7:  fac[-1 + 5]
 14$  fac[4]
 18:   fac[-1 + 4]
 25$   fac[3]
 29:    fac[-1 + 3]
 36$    fac[2]
 40:     fac[-1 + 2]
 47$     fac[1]\
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[OutputFormData["\<\
120\
\>", "\<\
120\
\>"], "Output",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]],

Cell[CellGroupData[{

Cell["\<\
tracePrintIndexed[
  fib[5],
  TraceDepth -> 2]\
\>", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
  1: fib[5]
  4$ fib[-2 + 5] + fib[-1 + 5]
  6:  fib[-2 + 5]
  7$  fib[3]
  8$  fib[-2 + 3] + fib[-1 + 3]
  9$  1 + 2
 10$  3
 11:  fib[-1 + 5]
 12$  fib[4]
 13$  fib[-2 + 4] + fib[-1 + 4]
 14$  2 + 3
 15$  5
 16$ 3 + 5
 17$ 8\
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[OutputFormData["\<\
8\
\>", "\<\
8\
\>"], "Output",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]],

Cell[CellGroupData[{

Cell["\<\
(* Seen previously *)
tracePrintIndexed[
  fib[5], 
  printCondition ->
    $traceLevel < 4]\
\>", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
  1: fib[5]
  4$ fib[-2 + 5] + fib[-1 + 5]
  6:  fib[-2 + 5]
 13$  fib[3]
 14$  fib[-2 + 3] + fib[-1 + 3]
 55$  1 + 2
 56$  3
 57:  fib[-1 + 5]
 64$  fib[4]
 65$  fib[-2 + 4] + fib[-1 + 4]
148$  2 + 3
149$  5
150$ 3 + 5
151$ 8\
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[OutputFormData["\<\
8\
\>", "\<\
8\
\>"], "Output",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell[TextData[{
 StyleBox["The options",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" suppressForm, suppressWhole, and unsuppressForm",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier"],
 StyleBox[".",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True]
}], "Subsection",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[CellGroupData[{

Cell[TextData[{
 StyleBox[" ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox["suppressForm",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier"]
}], "Subsubsection",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[TextData[{
 StyleBox["In addition to skipping trivial chains and testing a print \
condition,",
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" tracePrintIndexed ",
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["may be inhibited from printing certain steps by entering ",
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox["suppress mode",
  Evaluatable->False,
  AspectRatioFixed->True,
  FontSlant->"Italic"],
 StyleBox[".  If  \"",
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox["suppressForm -> ",
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["patt",
  Evaluatable->False,
  AspectRatioFixed->True,
  FontSlant->"Italic"],
 StyleBox["\"  is given as an optional argument to",
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" tracePrintIndexed, ",
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["suppress mode will be entered whenever a step matching the pattern \
",
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox["patt",
  Evaluatable->False,
  AspectRatioFixed->True,
  FontSlant->"Italic"],
 StyleBox[" is encountered, and exited when the evaluation chain of that step \
is complete. Both the step that is matched and its final value will be \
printed, but nothing in between. ",
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" suppressForm ",
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["is similar to, but not quite the same as,",
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" TraceOff.",
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"]
}], "Text",
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[CellGroupData[{

Cell["\<\
tracePrintIndexed[
  log1[fac[2] x], 
  TraceOff -> fac[_]]\
\>", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
  1: log1[fac[2] x]
  3:  fac[2] x
  8$  2 x
  9$ log1[2 x]
 10$ log1[2] + log1[x]\
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[OutputFormData["\<\
log1[2] + log1[x]\
\>", "\<\
log1[2] + log1[x]\
\>"], "Output",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]],

Cell[CellGroupData[{

Cell["\<\
tracePrintIndexed[
  log1[fac[2] x], 
  suppressForm -> fac[_] ]\
\>", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
  1: log1[fac[2] x]
  3:  fac[2] x
  5:   fac[2]
 22$   2
 24$  2 x
 25$ log1[2 x]
 26$ log1[2] + log1[x]\
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[OutputFormData["\<\
log1[2] + log1[x]\
\>", "\<\
log1[2] + log1[x]\
\>"], "Output",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell[TextData[{
 StyleBox[" unsuppressForm ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier"],
 StyleBox["with",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" suppressWhole -> True",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier"]
}], "Subsubsection",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[TextData[{
 StyleBox["Supplying the option assignment",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Times New Roman"],
 StyleBox[" suppressWhole -> True ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["instructs",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Times New Roman"],
 StyleBox[" tracePrintIndexed ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["to begin the trace in suppress mode.  No steps will be printed \
unless a value ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Times New Roman"],
 StyleBox["patt",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Times New Roman",
  FontSlant->"Italic"],
 StyleBox[" for the option",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Times New Roman"],
 StyleBox[" unsuppressForm ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["is also supplied.  In that case, suppress mode is ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Times New Roman"],
 StyleBox["exited when a step matching",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" patt ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontSlant->"Italic"],
 StyleBox["is encountered, and re-entered when the evaluation chain of that \
step is complete. Used in this way,",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" unsuppressForm ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["is a substitute for",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" TraceOn.",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"]
}], "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[CellGroupData[{

Cell["\<\
tracePrintIndexed[
  log1[fac[2] x], 
  suppressWhole -> True,
  unsuppressForm -> fac[_] ]\
\>", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
  5:   fac[2]
  8$   2 fac[-1 + 2]
 11:    fac[-1 + 2]
 13:     -1 + 2
 17$     1
 18$    fac[1]
 19$    1
 20$   2 1
 21$   1 2
 22$   2\
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[OutputFormData["\<\
log1[2] + log1[x]\
\>", "\<\
log1[2] + log1[x]\
\>"], "Output",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell[TextData[{
 StyleBox[" ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox["suppressForm ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier"],
 StyleBox["and",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier"],
 StyleBox["un",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox["suppressForm ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier"],
 StyleBox["together",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True]
}], "Subsubsection",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[TextData[{
 StyleBox["Unlike",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" TraceOff ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["and",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" TraceOn, ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["the options",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" suppressForm ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["and",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" unsuppressForm ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["work inside of each other:",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True]
}], "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[CellGroupData[{

Cell["\<\
f1[x_] := {{{g1[-1 + x]}}};
g1[x_] := f1[x];
g1[1] = 1;

tracePrintIndexed[
  {f1[3]},  
  suppressForm -> f1[_],
  unsuppressForm -> g1[_] ]\
\>", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
  1: {f1[3]}
  3:  f1[3]
 12:     g1[-1 + 3]
 14:      -1 + 3
 18$      2
 19$     g1[2]
 20$     f1[2]
 29:        g1[-1 + 2]
 31:         -1 + 2
 35$         1
 36$        g1[1]
 37$        1
 40$     {{{1}}}
 43$  {{{{{{1}}}}}}
 44$ {{{{{{{1}}}}}}}\
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[OutputFormData["\<\
{{{{{{{1}}}}}}}\
\>", "\<\
{{{{{{{1}}}}}}}\
\>"], "Output",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]],

Cell[TextData[{
 StyleBox["In the above example, suppress mode is entered at step 3 by a \
match with",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" suppressForm, ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["exited at step 12 by a match with",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" unsuppressForm, ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["entered at step 20 by another match with",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" suppressForm, ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["and exited at step 29 by another match with",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" suppressForm. tracePrintIndexed ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["backs into, out of, into, and out of suppress mode as the \
evaluation chains of the matched steps are completed in steps 37, 40, 40, and \
43. ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True]
}], "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[TextData[{
 StyleBox["The options",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" suppressForm ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["and",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" unsuppressForm ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["also work inside of each other with",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" suppressWhole -> True",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox[":",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True]
}], "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[CellGroupData[{

Cell["\<\
tracePrintIndexed[
  {f1[3]},  
  suppressForm -> f1[_],
  unsuppressForm -> g1[_],
  suppressWhole -> True ]\
\>", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
 12:     g1[-1 + 3]
 14:      -1 + 3
 18$      2
 19$     g1[2]
 20$     f1[2]
 29:        g1[-1 + 2]
 31:         -1 + 2
 35$         1
 36$        g1[1]
 37$        1
 40$     {{{1}}}\
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[OutputFormData["\<\
{{{{{{{1}}}}}}}\
\>", "\<\
{{{{{{{1}}}}}}}\
\>"], "Output",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell[TextData[{
 StyleBox["The option",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" indentOutput",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier"],
 StyleBox[".",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True]
}], "Subsection",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[TextData[{
 StyleBox["tracePrintIndexed ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["has an option named",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" indentOutput ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["whose default value is",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" True. ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["Setting",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" indentOutput -> False ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["results in printing the numerical value of the trace level between \
the step number and the delimiter \"",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[":",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier"],
 StyleBox["\" or \"",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox["$",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier"],
 StyleBox["\" rather than indenting the step: ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True]
}], "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[CellGroupData[{

Cell["\<\
log1[x_ y_] := log1[x] + log1[y];

tracePrintIndexed[ 
  log1[a b c d] ]\
\>", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
  1: log1[a b c d]
  9$ log1[a] + log1[b c d]
 14:  log1[b c d]
 21$  log1[b] + log1[c d]
 26:   log1[c d]
 32$   log1[c] + log1[d]
 40$  log1[b] + (log1[c] + log1[d])
 41$  log1[b] + log1[c] + log1[d]
 42$ log1[a] + (log1[b] + log1[c] + log1[d])
 43$ log1[a] + log1[b] + log1[c] + log1[d]\
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[OutputFormData["\<\
log1[a] + log1[b] + log1[c] + log1[d]\
\>", "\<\
log1[a] + log1[b] + log1[c] + log1[d]\
\>"], "Output",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]],

Cell[CellGroupData[{

Cell["\<\
tracePrintIndexed[ 
  log1[a b c d],
  indentOutput -> False ]\
\>", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
  1  2: log1[a b c d]
  9  2$ log1[a] + log1[b c d]
 14  3: log1[b c d]
 21  3$ log1[b] + log1[c d]
 26  4: log1[c d]
 32  4$ log1[c] + log1[d]
 40  3$ log1[b] + (log1[c] + log1[d])
 41  3$ log1[b] + log1[c] + log1[d]
 42  2$ log1[a] + (log1[b] + log1[c] + log1[d])
 43  2$ log1[a] + log1[b] + log1[c] + log1[d]\
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[OutputFormData["\<\
log1[a] + log1[b] + log1[c] + log1[d]\
\>", "\<\
log1[a] + log1[b] + log1[c] + log1[d]\
\>"], "Output",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]],

Cell[TextData[{
 StyleBox["Setting",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" indentOutput -> False ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["is most likely to be desirable when trace levels and step lengths \
get large enough so that the indenting is not very helpful. Here is an \
example where, if your terminal line contains no more than 80 characters or \
so, the value of indenting should be questionable:   ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True]
}], "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[CellGroupData[{

Cell["\<\
foo[n_] := (Range[n]; foo[1+n]);
foo[25] := Null;

tracePrintIndexed[foo[5], 
  printCondition ->
    MatchQ[$step, HoldForm[{___}]] &&
    $traceLevel > 15]\
\>", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
347$               {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 
      16, 17, 18}
380$                {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 
      16, 17, 18, 19}
414$                 {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 
      15, 16, 17, 18, 19, 20}
449$                  {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 
      15, 16, 17, 18, 19, 20, 21}
485$                   {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 
      15, 16, 17, 18, 19, 20, 21, 22}
522$                    {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 
      15, 16, 17, 18, 19, 20, 21, 22, 23}
560$                     {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 
      14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24}\
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]],

Cell[CellGroupData[{

Cell["\<\
tracePrintIndexed[foo[5],
  indentOutput -> False, 
  printCondition ->
    MatchQ[$step, HoldForm[{___}]] &&
    $traceLevel > 15]\
\>", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
347 16$ {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18}
380 17$ {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 
         19}
414 18$ {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 
         19, 20}
449 19$ {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 
         19, 20, 21}
485 20$ {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 
         19, 20, 21, 22}
522 21$ {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 
         19, 20, 21, 22, 23}
560 22$ {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 
         19, 20, 21, 22, 23, 24}\
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]],

Cell[TextData[{
 StyleBox["Technical note",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontWeight->"Bold"],
 StyleBox[": To avoid double spacing of multi-line steps on our Macintosh, we \
had to set",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" Format[LineBreak[_]] = \"\" ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["in the definition of ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox["tracePrintIndexed. ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["We don't know if this is right for all machines. You may want to \
change this if you find that long steps are not being properly broken up into \
readable lines. ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True]
}], "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]],

Cell[CellGroupData[{

Cell[TextData[{
 StyleBox["The option",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" doubleSpace.",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier"]
}], "Subsection",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[TextData[{
 StyleBox["Setting",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" doubleSpace -> True ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["instructs",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" tracePrintIndexed ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["to print a blank line between every step. This may improve \
readability when the evaluation being traced involves powers or products. ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True]
}], "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[CellGroupData[{

Cell["\<\
tracePrintIndexed[
  (3 10)/5 + 3^5]\
\>", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
     3 10    5
  1: ---- + 3
      5
      3 10
  3:  ----
       5
       1
  7:   -
       5
       1
 11$   -
       5
      3 10
 15$  ----
       5
      3 10
 16$  ----
       5
 17$  6
       5
 18:  3
 22$  243
 23$ 6 + 243
 24$ 249\
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[OutputFormData["\<\
249\
\>", "\<\
249\
\>"], "Output",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]],

Cell[CellGroupData[{

Cell["\<\
tracePrintIndexed[
  (3 10)/5 + 3^5,
  doubleSpace -> True]\
\>", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\

     3 10    5
  1: ---- + 3
      5

      3 10
  3:  ----
       5

       1
  7:   -
       5

       1
 11$   -
       5

      3 10
 15$  ----
       5

      3 10
 16$  ----
       5

 17$  6

       5
 18:  3

 22$  243

 23$ 6 + 243

 24$ 249\
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[OutputFormData["\<\
249\
\>", "\<\
249\
\>"], "Output",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]]
}, Closed]]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[StyleBox["tracePrintStack",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True,
 FontFamily->"Courier"]], "Section",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[TextData[{
 StyleBox["The function",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" tracePrintStack ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["prints the evaluation stack as well as the current step at each \
stage of a trace. Using the option",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontWeight->"Bold"],
 StyleBox["printCondition ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["as described below, you can print the stack at any one particular \
step in an evaluation.  ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True]
}], "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[TextData[{
 StyleBox["For anyone interested in learning how the evaluation stack works, \
we highly recommend running",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" tracePrintStack ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["on some simple examples.",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True]
}], "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[CellGroupData[{

Cell["basics", "Subsection",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[TextData[{
 StyleBox["The printing format used for each step is the same as the format \
used by",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" tracePrintIndexed ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["with",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" indentOutput -> False. ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"]
}], "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[CellGroupData[{

Cell["\<\
a1 = b1;
a2 = b2;

tracePrintStack[ a1[a2] ]\
\>", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
------- stack/step 1 -------
  1  2: a1[a2]
 
  1  2: a1[a2]
------- stack/step 2 -------
  2  3: a1
 
  1  2: a1[a2]
  2  3: a1
------- stack/step 3 -------
  3  3$ b1
 
  1  2: a1[a2]
------- stack/step 4 -------
  4  3: a2
 
  1  2: a1[a2]
  4  3: a2
------- stack/step 5 -------
  5  3$ b2
 
  1  2: a1[a2]
------- stack/step 6 -------
  6  2$ b1[b2]
 \
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[OutputFormData["\<\
b1[b2]\
\>", "\<\
b1[b2]\
\>"], "Output",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]],

Cell[TextData[{
 StyleBox["tracePrintStack ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["supports only two options:",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" useCompleteStack ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["and",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" printCondition. ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["Other optional arguments will be ignored. ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True]
}], "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]],

Cell[CellGroupData[{

Cell[TextData[{
 StyleBox["the option ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox["useCompleteStack",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier"]
}], "Subsection",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[TextData[{
 StyleBox["With",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" useCompleteStack -> True, tracePrintStack ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["displays the \"complete\" evaluation stack:",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True]
}], "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[CellGroupData[{

Cell["\<\
a1 = b1;
b1 = c1;

tracePrintStack[ a1 ]\
\>", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
------- stack/step 1 -------
  1  2: a1
 
  1  2: a1
------- stack/step 2 -------
  2  2$ b1
 
  2  2$ b1
------- stack/step 3 -------
  3  2$ c1
 \
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[OutputFormData["\<\
c1\
\>", "\<\
c1\
\>"], "Output",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]],

Cell[CellGroupData[{

Cell["tracePrintStack[ a1, useCompleteStack -> True ]", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
------- stack/step 1 -------
  1  2: a1
 
  1  2: a1
------- stack/step 2 -------
  2  2$ b1
 
  1  2: a1
  2  2$ b1
------- stack/step 3 -------
  3  2$ c1
 \
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[OutputFormData["\<\
c1\
\>", "\<\
c1\
\>"], "Output",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell[TextData[{
 StyleBox["the option ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox["printCondition.",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier"]
}], "Subsection",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[TextData[{
 StyleBox["When used with ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox["tracePrintStack, ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["the option",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" printCondition ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["behaves exactly as it does for",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" tracePrintIndexed. ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["The symbols",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" $step, $stepNumber, ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["and",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" $traceLevel ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["have the same meanings. In particular, you can make use of",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True],
 StyleBox[" $stepNumber ",
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True,
  FontFamily->"Courier",
  FontWeight->"Bold"],
 StyleBox["to print the evaluation stack at one particular step in a trace: ",
  
  Editable->False,
  Evaluatable->False,
  AspectRatioFixed->True]
}], "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[CellGroupData[{

Cell["\<\
fac[n_] := n fac[-1 + n];
fac[1] = 1;

tracePrintIndexed[ fac[4] ]\
\>", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
  1: fac[4]
  4$ 4 fac[-1 + 4]
  7:  fac[-1 + 4]
  9:   -1 + 4
 13$   3
 14$  fac[3]
 15$  3 fac[-1 + 3]
 18:   fac[-1 + 3]
 20:    -1 + 3
 24$    2
 25$   fac[2]
 26$   2 fac[-1 + 2]
 29:    fac[-1 + 2]
 31:     -1 + 2
 35$     1
 36$    fac[1]
 37$    1
 38$   2 1
 39$   1 2
 40$   2
 41$  3 2
 42$  2 3
 43$  6
 44$ 4 6
 45$ 24\
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[OutputFormData["\<\
24\
\>", "\<\
24\
\>"], "Output",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]],

Cell[CellGroupData[{

Cell["\<\
tracePrintStack[
  fac[4], 
  printCondition -> $stepNumber == 37 ]\
\>", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
  4  2$ 4 fac[-1 + 4]
 15  3$ 3 fac[-1 + 3]
 26  4$ 2 fac[-1 + 2]
 36  5$ fac[1]
------- stack/step 37 -------
 37  5$ 1
 \
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[OutputFormData["\<\
24\
\>", "\<\
24\
\>"], "Output",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]],

Cell[CellGroupData[{

Cell["\<\
tracePrintStack[
  fac[4], 
  printCondition -> $stepNumber == 37,
  useCompleteStack -> True ]\
\>", "Input",
 Editable->False,
 AspectRatioFixed->True],

Cell["\<\
  1  2: fac[4]
  4  2$ 4 fac[-1 + 4]
  7  3: fac[-1 + 4]
 15  3$ 3 fac[-1 + 3]
 18  4: fac[-1 + 3]
 26  4$ 2 fac[-1 + 2]
 29  5: fac[-1 + 2]
------- stack/step 37 -------
 37  5$ 1
 \
\>", "Print",
 Evaluatable->False,
 AspectRatioFixed->True],

Cell[OutputFormData["\<\
24\
\>", "\<\
24\
\>"], "Output",
 Evaluatable->False,
 AspectRatioFixed->True]
}, Closed]]
}, Closed]]
}, Open  ]],

Cell[" Copyright  1995 by Christopher R. Stover", "Text",
 Editable->False,
 Evaluatable->False,
 AspectRatioFixed->True]
},
WindowToolbars->{},
CellGrouping->Manual,
WindowSize->{1115, 597},
WindowMargins->{{35, Automatic}, {Automatic, 0}},
PrivateNotebookOptions->{"VersionedStylesheet"->{"Default.nb"[8.] -> False}},
ShowCellLabel->True,
ShowCellTags->False,
FrontEndVersion->"10.3 for Linux x86 (64-bit) (2015\:5e7410\:67089\:65e5)",
StyleDefinitions->"Default.nb",
PrivateNotebookOptions -> {"ColorPalette" -> {RGBColor, -1}},
RenderingOptions -> {"ObjectDithering" -> True},
RenderingOptions -> {"RasterDithering" -> False},
MacintoshSystemPageSetup -> \
"AVU/IFiQKFD000000Tn0D09?RA0000000PBJL0901kP0AP1Y06`0I@1^0642Ch1@\n\
0Tn9<000000219Y@0T07^000000000000000009?P50000000000000000000000\n\
00000000000000000000000000000000"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 109, 3, 32, "Input",
 InitializationCell->True],
Cell[CellGroupData[{
Cell[692, 27, 299, 13, 67, "Section",
 Evaluatable->False],
Cell[994, 42, 693, 28, 33, "Text",
 Evaluatable->False],
Cell[1690, 72, 214, 6, 33, "Text",
 Evaluatable->False],
Cell[1907, 80, 207, 6, 33, "Text",
 Evaluatable->False],
Cell[2117, 88, 124, 3, 33, "Text",
 Evaluatable->False],
Cell[2244, 93, 689, 28, 33, "Text",
 Evaluatable->False],
Cell[CellGroupData[{
Cell[2958, 125, 92, 3, 47, "Subsection",
 Evaluatable->False],
Cell[3053, 130, 1379, 57, 70, "Text",
 Evaluatable->False],
Cell[CellGroupData[{
Cell[4457, 191, 123, 6, 70, "Input"],
Cell[4583, 199, 146, 13, 70, "Print",
 Evaluatable->False]
}, Closed]],
Cell[CellGroupData[{
Cell[4766, 217, 91, 2, 70, "Input"],
Cell[4860, 221, 186, 13, 70, "Print",
 Evaluatable->False],
Cell[5049, 236, 120, 6, 70, "Output",
 Evaluatable->False]
}, Closed]],
Cell[5184, 245, 1512, 50, 70, "Text",
 Evaluatable->False]
}, Closed]],
Cell[CellGroupData[{
Cell[6733, 300, 313, 13, 39, "Subsection",
 Evaluatable->False],
Cell[7049, 315, 1280, 41, 70, "Text",
 Evaluatable->False],
Cell[CellGroupData[{
Cell[8354, 360, 94, 2, 70, "Input"],
Cell[8451, 364, 132, 8, 70, "Print",
 Evaluatable->False],
Cell[8586, 374, 104, 6, 70, "Output",
 Evaluatable->False]
}, Closed]],
Cell[8705, 383, 1131, 45, 70, "Text",
 Evaluatable->False],
Cell[CellGroupData[{
Cell[9861, 432, 135, 6, 70, "Input"],
Cell[9999, 440, 191, 14, 70, "Print",
 Evaluatable->False],
Cell[10193, 456, 104, 6, 70, "Output",
 Evaluatable->False]
}, Closed]],
Cell[10312, 465, 717, 21, 70, "Text",
 Evaluatable->False],
Cell[CellGroupData[{
Cell[11054, 490, 107, 2, 70, "Input"],
Cell[11164, 494, 125, 5, 70, "Print",
 Evaluatable->False],
Cell[11292, 501, 132, 6, 70, "Output",
 Evaluatable->False]
}, Closed]],
Cell[CellGroupData[{
Cell[11461, 512, 148, 6, 70, "Input"],
Cell[11612, 520, 367, 25, 70, "Print",
 Evaluatable->False],
Cell[11982, 547, 132, 6, 70, "Output",
 Evaluatable->False]
}, Closed]],
Cell[12129, 556, 719, 28, 70, "Text",
 Evaluatable->False]
}, Closed]],
Cell[CellGroupData[{
Cell[12885, 589, 310, 13, 39, "Subsection",
 Evaluatable->False],
Cell[13198, 604, 3876, 158, 70, "Text",
 Evaluatable->False],
Cell[CellGroupData[{
Cell[17099, 766, 307, 13, 70, "Subsubsection",
 Evaluatable->False],
Cell[17409, 781, 846, 34, 70, "Text",
 Evaluatable->False],
Cell[CellGroupData[{
Cell[18280, 819, 207, 12, 70, "Input"],
Cell[18490, 833, 218, 12, 70, "Print",
 Evaluatable->False],
Cell[18711, 847, 106, 6, 70, "Output",
 Evaluatable->False]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[18866, 859, 313, 13, 70, "Subsubsection",
 Evaluatable->False],
Cell[19182, 874, 869, 34, 70, "Text",
 Evaluatable->False],
Cell[CellGroupData[{
Cell[20076, 912, 198, 10, 70, "Input"],
Cell[20277, 924, 297, 17, 70, "Print",
 Evaluatable->False],
Cell[20577, 943, 102, 6, 70, "Output",
 Evaluatable->False]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[20728, 955, 313, 13, 70, "Subsubsection",
 Evaluatable->False],
Cell[21044, 970, 1267, 52, 70, "Text",
 Evaluatable->False],
Cell[CellGroupData[{
Cell[22336, 1026, 146, 7, 70, "Input"],
Cell[22485, 1035, 446, 28, 70, "Print",
 Evaluatable->False],
Cell[22934, 1065, 102, 6, 70, "Output",
 Evaluatable->False]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[23085, 1077, 412, 17, 70, "Subsubsection",
 Evaluatable->False],
Cell[23500, 1096, 2288, 91, 70, "Text",
 Evaluatable->False],
Cell[CellGroupData[{
Cell[25813, 1191, 108, 6, 70, "Input"],
Cell[25924, 1199, 218, 12, 70, "Print",
 Evaluatable->False],
Cell[26145, 1213, 106, 6, 70, "Output",
 Evaluatable->False]
}, Closed]],
Cell[CellGroupData[{
Cell[26288, 1224, 190, 10, 70, "Input"],
Cell[26481, 1236, 218, 12, 70, "Print",
 Evaluatable->False],
Cell[26702, 1250, 106, 6, 70, "Output",
 Evaluatable->False]
}, Closed]],
Cell[CellGroupData[{
Cell[26845, 1261, 115, 6, 70, "Input"],
Cell[26963, 1269, 297, 17, 70, "Print",
 Evaluatable->False],
Cell[27263, 1288, 102, 6, 70, "Output",
 Evaluatable->False]
}, Closed]],
Cell[CellGroupData[{
Cell[27402, 1299, 160, 8, 70, "Input"],
Cell[27565, 1309, 297, 17, 70, "Print",
 Evaluatable->False],
Cell[27865, 1328, 102, 6, 70, "Output",
 Evaluatable->False]
}, Closed]]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[28028, 1341, 427, 17, 39, "Subsection",
 Evaluatable->False],
Cell[CellGroupData[{
Cell[28480, 1362, 301, 13, 70, "Subsubsection",
 Evaluatable->False],
Cell[28784, 1377, 1882, 65, 70, "Text",
 Evaluatable->False],
Cell[CellGroupData[{
Cell[30691, 1446, 127, 6, 70, "Input"],
Cell[30821, 1454, 153, 8, 70, "Print",
 Evaluatable->False],
Cell[30977, 1464, 134, 6, 70, "Output",
 Evaluatable->False]
}, Closed]],
Cell[CellGroupData[{
Cell[31148, 1475, 132, 6, 70, "Input"],
Cell[31283, 1483, 176, 10, 70, "Print",
 Evaluatable->False],
Cell[31462, 1495, 134, 6, 70, "Output",
 Evaluatable->False]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[31645, 1507, 437, 18, 70, "Subsubsection",
 Evaluatable->False],
Cell[32085, 1527, 2225, 84, 70, "Text",
 Evaluatable->False],
Cell[CellGroupData[{
Cell[34335, 1615, 159, 7, 70, "Input"],
Cell[34497, 1624, 208, 13, 70, "Print",
 Evaluatable->False],
Cell[34708, 1639, 134, 6, 70, "Output",
 Evaluatable->False]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[34891, 1651, 789, 35, 70, "Subsubsection",
 Evaluatable->False],
Cell[35683, 1688, 1115, 48, 70, "Text",
 Evaluatable->False],
Cell[CellGroupData[{
Cell[36823, 1740, 209, 11, 70, "Input"],
Cell[37035, 1753, 322, 18, 70, "Print",
 Evaluatable->False],
Cell[37360, 1773, 130, 6, 70, "Output",
 Evaluatable->False]
}, Closed]],
Cell[37505, 1782, 1430, 51, 70, "Text",
 Evaluatable->False],
Cell[38938, 1835, 907, 38, 70, "Text",
 Evaluatable->False],
Cell[CellGroupData[{
Cell[39870, 1877, 177, 8, 70, "Input"],
Cell[40050, 1887, 256, 14, 70, "Print",
 Evaluatable->False],
Cell[40309, 1903, 130, 6, 70, "Output",
 Evaluatable->False]
}, Closed]]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[40500, 1916, 391, 17, 39, "Subsection",
 Evaluatable->False],
Cell[40894, 1935, 1572, 63, 70, "Text",
 Evaluatable->False],
Cell[CellGroupData[{
Cell[42491, 2002, 140, 7, 70, "Input"],
Cell[42634, 2011, 360, 13, 70, "Print",
 Evaluatable->False],
Cell[42997, 2026, 174, 6, 70, "Output",
 Evaluatable->False]
}, Closed]],
Cell[CellGroupData[{
Cell[43208, 2037, 130, 6, 70, "Input"],
Cell[43341, 2045, 382, 13, 70, "Print",
 Evaluatable->False],
Cell[43726, 2060, 174, 6, 70, "Output",
 Evaluatable->False]
}, Closed]],
Cell[43915, 2069, 685, 21, 70, "Text",
 Evaluatable->False],
Cell[CellGroupData[{
Cell[44625, 2094, 225, 10, 70, "Input"],
Cell[44853, 2106, 805, 17, 70, "Print",
 Evaluatable->False]
}, Closed]],
Cell[CellGroupData[{
Cell[45695, 2128, 199, 8, 70, "Input"],
Cell[45897, 2138, 718, 16, 70, "Print",
 Evaluatable->False]
}, Closed]],
Cell[46630, 2157, 1023, 36, 70, "Text",
 Evaluatable->False]
}, Closed]],
Cell[CellGroupData[{
Cell[47690, 2198, 308, 13, 39, "Subsection",
 Evaluatable->False],
Cell[48001, 2213, 785, 29, 70, "Text",
 Evaluatable->False],
Cell[CellGroupData[{
Cell[48811, 2246, 104, 5, 70, "Input"],
Cell[48918, 2253, 311, 27, 70, "Print",
 Evaluatable->False],
Cell[49232, 2282, 106, 6, 70, "Output",
 Evaluatable->False]
}, Closed]],
Cell[CellGroupData[{
Cell[49375, 2293, 127, 6, 70, "Input"],
Cell[49505, 2301, 322, 38, 70, "Print",
 Evaluatable->False],
Cell[49830, 2341, 106, 6, 70, "Output",
 Evaluatable->False]
}, Closed]]
}, Closed]]
}, Open  ]],
Cell[CellGroupData[{
Cell[49997, 2354, 206, 7, 64, "Section",
 Evaluatable->False],
Cell[50206, 2363, 935, 35, 55, "Text",
 Evaluatable->False],
Cell[51144, 2400, 519, 19, 55, "Text",
 Evaluatable->False],
Cell[CellGroupData[{
Cell[51688, 2423, 92, 3, 47, "Subsection",
 Evaluatable->False],
Cell[51783, 2428, 633, 25, 70, "Text",
 Evaluatable->False],
Cell[CellGroupData[{
Cell[52441, 2457, 112, 7, 70, "Input"],
Cell[52556, 2466, 427, 28, 70, "Print",
 Evaluatable->False],
Cell[52986, 2496, 112, 6, 70, "Output",
 Evaluatable->False]
}, Closed]],
Cell[53113, 2505, 845, 34, 70, "Text",
 Evaluatable->False]
}, Closed]],
Cell[CellGroupData[{
Cell[53995, 2544, 312, 13, 39, "Subsection",
 Evaluatable->False],
Cell[54310, 2559, 473, 18, 70, "Text",
 Evaluatable->False],
Cell[CellGroupData[{
Cell[54808, 2581, 108, 7, 70, "Input"],
Cell[54919, 2590, 218, 14, 70, "Print",
 Evaluatable->False],
Cell[55140, 2606, 104, 6, 70, "Output",
 Evaluatable->False]
}, Closed]],
Cell[CellGroupData[{
Cell[55281, 2617, 107, 2, 70, "Input"],
Cell[55391, 2621, 229, 15, 70, "Print",
 Evaluatable->False],
Cell[55623, 2638, 104, 6, 70, "Output",
 Evaluatable->False]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[55776, 2650, 311, 13, 39, "Subsection",
 Evaluatable->False],
Cell[56090, 2665, 1733, 69, 70, "Text",
 Evaluatable->False],
Cell[CellGroupData[{
Cell[57848, 2738, 134, 7, 70, "Input"],
Cell[57985, 2747, 402, 28, 70, "Print",
 Evaluatable->False],
Cell[58390, 2777, 104, 6, 70, "Output",
 Evaluatable->False]
}, Closed]],
Cell[CellGroupData[{
Cell[58531, 2788, 135, 6, 70, "Input"],
Cell[58669, 2796, 193, 10, 70, "Print",
 Evaluatable->False],
Cell[58865, 2808, 104, 6, 70, "Output",
 Evaluatable->False]
}, Closed]],
Cell[CellGroupData[{
Cell[59006, 2819, 163, 7, 70, "Input"],
Cell[59172, 2828, 253, 13, 70, "Print",
 Evaluatable->False],
Cell[59428, 2843, 104, 6, 70, "Output",
 Evaluatable->False]
}, Closed]]
}, Closed]]
}, Open  ]],
Cell[59571, 2854, 121, 3, 33, "Text",
 Evaluatable->False]
}
]
*)

(* End of internal cache information *)

